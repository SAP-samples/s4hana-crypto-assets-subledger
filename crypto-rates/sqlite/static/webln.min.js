!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r="undefined"!=typeof globalThis?globalThis:r||self).WebLN={})}(this,(function(r){"use strict";var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},t(r,n)};function n(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");function o(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}function o(r,t,n){if(Object.setPrototypeOf(r,n.prototype),t===n)if(r.name=t.name,Error.captureStackTrace)Error.captureStackTrace(r,n);else{var o=Error(r.message).stack;o&&(r.stack=function(r,t){if(!r)return r;if(!t)return r;var n=RegExp("\\s+at\\s".concat(t,"\\s"));return r.split("\n").filter((function(r){return!r.match(n)})).join("\n")}(o,"new ".concat(t.name)))}}var e=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),i=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),c=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),u=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),s=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),a=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error),f=function(r){function t(n){var e=this.constructor,i=r.call(this,n)||this;return o(i,e,t),i}return n(t,r),t}(Error);r.ConnectionError=c,r.InternalError=f,r.InvalidDataError=a,r.MissingProviderError=e,r.RejectionError=i,r.RoutingError=s,r.UnsupportedMethodError=u,r.requestProvider=function(r){return new Promise((function(r,t){if("undefined"==typeof window)return t(Error("Must be called in a browser context"));var n=window.webln;if(!n)return t(new e("Your browser has no WebLN provider"));n.enable().then((function(){return r(n)})).catch((function(r){return t(r)}))}))},Object.defineProperty(r,"__esModule",{value:!0})}));
